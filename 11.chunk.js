webpackJsonp([11],{261:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),s=i(c),u=n(14),d=(i(u),n(5)),y=n(2),f=n(7),h=y.Modal.confirm,p=y.Collapse.Panel,m=(y.Form.Item,y.Select.Option,y.Checkbox.Group,{rc:"0",des:"成功挑选到精选列表",channelList:[{channel_id:1,channel_name:"美食",cityList:[{city_id:1,city_name:"济南市"},{city_id:2,city_name:"德州市"},{city_id:3,city_name:"聊城市"},{city_id:4,city_name:"泰安市"},{city_id:5,city_name:"菏泽市"},{city_id:6,city_name:"莱芜市"},{city_id:7,city_name:"济宁市"},{city_id:8,city_name:"临沂市"},{city_id:9,city_name:"枣庄市"},{city_id:10,city_name:"日照市"},{city_id:11,city_name:"青岛市"},{city_id:12,city_name:"威海市"},{city_id:13,city_name:"烟台市"},{city_id:14,city_name:"潍坊市"},{city_id:15,city_name:"淄博市"},{city_id:16,city_name:"东营市"},{city_id:17,city_name:"滨州市"}]},{channel_id:2,channel_name:"休闲",cityList:[{city_id:2,city_name:"滨州"},{city_id:3,city_name:"菏泽"}]},{channel_id:3,channel_name:"育儿",cityList:[{city_id:2,city_name:"滨州"},{city_id:3,city_name:"菏泽"}]},{channel_id:4,channel_name:"吃货",cityList:[{city_id:2,city_name:"滨州"},{city_id:3,city_name:"菏泽"}]},{channel_id:5,channel_name:"摄影",cityList:[]},{channel_id:6,channel_name:"视频",cityList:[]},{channel_id:7,channel_name:"招聘",cityList:[]}]}),b=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={visible:!1,cityList:[],channels:[],data:[{key:"1",activity_id:"1",orderNum:"1",title:"我是活的",Introduction:"西湖区湖底公园1号",begin_time:"2016-06-09",end_time:"2016-06-19",address:"www.baidu.com",isneedlogin:"是",isline:"是",isVisible:"是"},{key:"2",activity_id:"2",orderNum:"2",title:"山东师大书店",Introduction:"西湖区湖底公园1号",begin_time:"2016-06-09",end_time:"2016-06-19",address:"www.baidu.com",isneedlogin:"是",isline:"是",isVisible:"是"},{key:"3",activity_id:"3",orderNum:"3",title:"哈哈哈",Introduction:"西湖区湖底公园1号",begin_time:"2016-06-09",end_time:"2016-06-19",address:"www.baidu.com",isneedlogin:"是",isline:"是",isVisible:"是"},{key:"4",activity_id:"4",orderNum:"4",title:32,Introduction:"西湖区湖底公园1号",begin_time:"2016-06-09",end_time:"2016-06-19",address:"www.baidu.com",isneedlogin:"是",isline:"是",isVisible:"是"}],page:{pageIndex:1,pageSize:10,countNo:0},activitycolumns:function(e){return[{title:"活动id",dataIndex:"activity_id",key:"activity_id"},{title:"标题",dataIndex:"title",key:"title"},{title:"介绍",dataIndex:"Introduction",key:"Introduction"},{title:"开始时间",dataIndex:"begin_time",key:"begin_time"},{title:"结束时间",dataIndex:"end_time",key:"end_time"},{title:"详细地址",dataIndex:"address",key:"address"},{title:"是否需要登录",dataIndex:"isneedlogin",key:"isneedlogin"},{title:"是否需要登录",dataIndex:"isline",key:"isline"},{title:"是否可见",dataIndex:"isVisible",key:"isVisible"},{title:"操作",key:"operation",render:function(t,i,a){return s["default"].createElement("span",null,s["default"].createElement("a",{onClick:function(){return e.edit(e,i.activity_id)}},"编辑"),s["default"].createElement("span",{className:"ant-divider"}),s["default"].createElement("a",{href:"javascript:void (0)",onClick:e.deleteActivity.bind(e,a,i.activity_id)},"删除"),s["default"].createElement("span",{className:"ant-divider"}),s["default"].createElement("a",{href:"javascript:void (0)",onClick:e.getCitylist.bind(e,a)},"抽取"),s["default"].createElement("span",{className:"ant-divider"}),s["default"].createElement("a",{href:"javascript:void(0)",onClick:n.postRank.bind(n),className:"ant-dropdown-link"},"选到排序页"))}}]}(n)},n}return l(t,e),r(t,[{key:"maintest",value:function(e,t){console.log("我是main面板里面的内容",e,t)}},{key:"postRank",value:function(){console.log("年后"),d.hashHistory.push("underline/activity/rank")}},{key:"getCitylist",value:function(e){this.setState({visible:!0})}},{key:"handleOk",value:function(){console.log("点击了确定"),this.setState({visible:!1}),console.log("这是你的城市数组",this.state.cityList),console.log("这是你的菜单数组",this.state.channels)}},{key:"handleCancel",value:function(e){console.log(e),this.setState({visible:!1})}},{key:"callback",value:function(e){console.log("key",e)}},{key:"getCityContentlist",value:function(e){this.setState({cityList:e})}},{key:"getChannelsContentlist",value:function(e){this.setState({channels:e})}},{key:"edit",value:function(e,t){console.log("index",e),console.log("datas",this.state.data[e]);var n=this.props.location.pathname;console.log("pathname",n),console.log("activityId",t),d.hashHistory.push(this.props.location.pathname+"/post/"+t)}},{key:"ajaxListSuccess",value:function(e){var t=[];0==e.rc&&e.data.map(function(e){e.key=Math.random()+1,t.push(e)}),console.log("list",t.length),this.setState({countNo:t.length,data:t})}},{key:"componentWillMount",value:function(){}},{key:"deleteActivitySuccess",value:function(e,t){y.message.info(e.des),h({title:"您是否确认要删除这项内容",content:"一些解释",onOk:function(){console.log("确定"),console.log("index",t);var e=this.state.data;e.splice(t,1),this.setState({data:e}),console.log("datas",e)},onCancel:function(){}})}},{key:"deleteActivity",value:function(e,t){t&&f.PRO_REQUEST.ajax.requestData(f.PRO_URL.activity.del,t,this.deleteActivitySuccess.bind(this,e),this.deleteActivityError.bind(this))}},{key:"render",value:function(){return s["default"].createElement("div",null,this.props.children||s["default"].createElement(y.Table,{columns:this.state.activitycolumns,dataSource:this.state.data,pagination:this.pagination}),s["default"].createElement("div",null,s["default"].createElement(y.Modal,{title:"选择你要抽取的地市和频道",visible:this.state.visible,onOk:this.handleOk.bind(this),onCancel:this.handleCancel.bind(this)},s["default"].createElement(y.Collapse,{onChange:this.callback,defaultActiveKey:["1"]},s["default"].createElement(y.Collapse.Panel,{header:"频道",key:"1"},m.channelList.map(function(e){return e.cityList.length?void 0:s["default"].createElement(y.Checkbox,null,e.channel_name)}),m.channelList.map(function(e){return e.cityList.length?s["default"].createElement(y.Collapse,null,s["default"].createElement(p,{header:e.channel_name,key:e.channel_id},e.cityList.map(function(e){return s["default"].createElement(y.Checkbox,null,e.city_name)}))):void 0}))))))}},{key:"pagination",get:function(){return function(e){return{total:e.state.page.countNo,showSizeChanger:!0,defaultPageSize:1,pageSize:e.state.page.pageSize,onShowSizeChange:function(e,t){console.log("Current: ",e,"; PageSize: ",t)},onChange:function(e){console.log("Current: ",e)}}}(this)}}]),t}(c.Component);b.defaultProps={ShowHeader:!0,ShowFooter:!0,maintest:b.prototype.maintest},e.exports=b},262:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),s=i(c),u=n(14),d=(i(u),n(2)),y=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),r(t,[{key:"render",value:function(){return s["default"].createElement(d.Alert,{message:"帖子列表，需求与疑问请向技术部提出",type:"info"})}}]),t}(c.Component);e.exports=y},263:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),d=i(u),y=n(14),f=(i(y),n(5)),h=n(2),p=n(10),m=(h.Radio.Group,h.Form.create),b=h.Form.Item,g=(h.DatePicker.RangePicker,h.Select.Option),v=function(e){function t(e){o(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.state={startValue:"",endValue:""},n.addActivity=n.addActivity.bind(n),n.editActivity=n.editActivity.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.test=n.test.bind(n),n.onChange=n.onChange.bind(n),n.disabledStartDate=n.disabledStartDate.bind(n),n.disabledEndDate=n.disabledEndDate.bind(n),n.onStartChange=n.onStartChange.bind(n),n.onEndChange=n.onEndChange.bind(n),n}return r(t,e),s(t,[{key:"disabledStartDate",value:function(e){return e&&this.state.endValue?e.getTime()>=this.state.endValue.getTime():!1}},{key:"disabledEndDate",value:function(e){return e&&this.state.startValue?e.getTime()<=this.state.startValue.getTime():!1}},{key:"onChange",value:function(e,t){console.log(e,"change",t),this.setState(a({},e,t))}},{key:"onStartChange",value:function(e){this.onChange("startValue",e)}},{key:"onEndChange",value:function(e){this.onChange("endValue",e)}},{key:"test",value:function(){console.log("我进了test了，下面");var e=p.Global.get("testname");e("我是子组件的内容")}},{key:"addActivity",value:function(){f.hashHistory.push(this.props.location.pathname+"/post/new")}},{key:"editActivity",value:function(){f.hashHistory.push("underline/activity/edit")}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("this.props.form",this.props.form),this.props.form.validateFields(function(e,t){e&&console.log("搜索错误！"),console.log("Submit!!!"),console.log("handleSubmit中的values",t)})}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldProps,n=(e.getFieldError,e.isFieldValidating,{titleProps:t("titleProps",{rules:[{required:!0,message:"请输入要搜索的内容"}]}),setectStateProps:t("setectStateProps",{rules:[{required:!0,message:"请输入要搜索的内容"}]},function(e){e.initialValue="1"}),formItemLayout:{}});return d["default"].createElement("div",null,d["default"].createElement(h.Form,{inline:!0,form:this.props.form},d["default"].createElement(b,c({label:"标题："},n.formItemLayout),d["default"].createElement(h.Input,c({},n.titleProps,{type:"test",placeholder:"请输入搜索名称",size:"default"}))),d["default"].createElement(b,c({label:"状态："},n.formItemLayout),d["default"].createElement(h.Select,c({defaultValue:"1"},n.setectStateProps,{style:{width:150},placeholder:"请选择状态"}),d["default"].createElement(g,{value:"1"},"编辑"),d["default"].createElement(g,{value:"2"},"发布"),d["default"].createElement(g,{value:"3"},"进行"),d["default"].createElement(g,{value:"4"},"结束"))),d["default"].createElement(b,{label:"创建时间："},d["default"].createElement(h.DatePicker,{disabledDate:this.disabledStartDate,value:this.state.startValue,placeholder:"开始日期",onChange:this.onStartChange}),"—",d["default"].createElement(h.DatePicker,{disabledDate:this.disabledEndDate,value:this.state.endValue,placeholder:"结束日期",onChange:this.onEndChange})),d["default"].createElement(b,null,d["default"].createElement(h.Button,{type:"primary",onClick:this.handleSubmit},"搜索"),d["default"].createElement(h.Button,{type:"primary",onClick:this.test},"测试"),d["default"].createElement(h.Button,{type:"primary",onClick:this.addActivity,style:{marginLeft:10,marginRight:10}},"新增活动"),d["default"].createElement(h.Button,{type:"primary",onClick:this.editActivity},"编辑活动"))))}}]),t}(u.Component);v=m()(v),v.defaultProps={test:"我是大水哥"},v.PropsTypes={test:d["default"].PropTypes.string},e.exports=v}});