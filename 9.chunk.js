webpackJsonp([9],{271:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=n(u),c=a(2);a(5);e.exports=function(e){function t(){return r(this,t),l(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement(c.Alert,{message:"帖子列表，需求与疑问请向技术部提出",type:"info"})}}]),t}(u.Component)},272:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),d=n(c),f=a(2),p=a(5),h=(a(31),a(32)),y=(a(10),f.Form.Item),m=f.Select.Option,g=(f.DatePicker.RangePicker,function(e){function t(e){l(this,t);var a=o(this,Object.getPrototypeOf(t).call(this,e));return a.SelectChange=a.SelectChange.bind(a),a.createPost=a.createPost.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.SelectTypeChange=a.SelectTypeChange.bind(a),a.disabledStartDate=a.disabledStartDate.bind(a),a.disabledEndDate=a.disabledEndDate.bind(a),a.onChange=a.onChange.bind(a),a.onStartChange=a.onStartChange.bind(a),a.onEndChange=a.onEndChange.bind(a),a.state={status:0,type:1,startValue:null,endValue:null},a}return i(t,e),s(t,[{key:"SelectChange",value:function(e){this.setState({status:e})}},{key:"SelectTypeChange",value:function(e){this.setState({type:e})}},{key:"createPost",value:function(){var e=this.props.location.pathname;console.log("pathname:",this.props.location.pathname),p.hashHistory.push(e+"/add")}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.form.getFieldsValue();t.status=this.state.status,t.type=this.state.type,this.state.startValue&&(t.startValue=h.Datetime.getTimeStamp(this.state.startValue)/1e3),this.state.endValue&&(t.endValue=h.Datetime.getTimeStamp(this.state.endValue)/1e3),this.props.brodcast(t)}},{key:"disabledStartDate",value:function(e){return e&&this.state.endValue?e.getTime()>=this.state.endValue.getTime():!1}},{key:"disabledEndDate",value:function(e){return e&&this.state.startValue?e.getTime()<=this.state.startValue.getTime():!1}},{key:"onChange",value:function(e,t){console.log(e,"change",t),this.setState(r({},e,t))}},{key:"onStartChange",value:function(e){this.onChange("startValue",e)}},{key:"onEndChange",value:function(e){this.onChange("endValue",e)}},{key:"render",value:function(){var e=this.props.form.getFieldProps;return d["default"].createElement("div",null,d["default"].createElement(f.Form,{inline:!0,onSubmit:this.handleSubmit,form:this.props.form},d["default"].createElement(y,{label:"商品名称："},d["default"].createElement(f.Input,u({placeholder:"请输入商品名"},e("title")))),d["default"].createElement(y,{label:"商品类型："},d["default"].createElement(f.Select,u({},e("type",{initialValue:0}),{value:this.state.status,onChange:this.SelectChange,style:{width:150},placeholder:"请选择状态"}),d["default"].createElement(m,{value:0},"全部"),d["default"].createElement(m,{value:1},"实体"),d["default"].createElement(m,{value:2},"虚拟"))),d["default"].createElement(y,{label:"商品状态："},d["default"].createElement(f.Select,u({},e("status",{initialValue:0}),{value:this.state.status,onChange:this.SelectChange,style:{width:150},placeholder:"请选择状态"}),d["default"].createElement(m,{value:0},"全部"),d["default"].createElement(m,{value:1},"编辑"),d["default"].createElement(m,{value:1},"启用"),d["default"].createElement(m,{value:1},"下架"),d["default"].createElement(m,{value:2},"过期"))),d["default"].createElement(y,{label:"创建时间："},d["default"].createElement(f.DatePicker,{disabledDate:this.disabledStartDate,value:this.state.startValue,placeholder:"开始日期",onChange:this.onStartChange}),"—",d["default"].createElement(f.DatePicker,{disabledDate:this.disabledEndDate,value:this.state.endValue,placeholder:"结束日期",onChange:this.onEndChange})),d["default"].createElement(y,{label:"是否抢购："},d["default"].createElement(f.Select,u({},e("qianggou",{initialValue:0}),{value:this.state.status,onChange:this.SelectChange,style:{width:150},placeholder:"请选择状态"}),d["default"].createElement(m,{value:0},"全部"),d["default"].createElement(m,{value:1},"抢购"),d["default"].createElement(m,{value:2},"普通"))),d["default"].createElement(f.Button,{type:"primary",htmlType:"submit"},"搜索"),d["default"].createElement(f.Button,{type:"primary",onClick:this.createPost,style:{marginLeft:10}},"新建商品")))}}]),t}(c.Component));g=f.Form.create()(g),e.exports=g},273:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=n(u),c=a(2),d=a(5),f=a(7),p=function(e){function t(e){r(this,t);var a=l(this,Object.getPrototypeOf(t).call(this,e));return a.state={data:[],page:{pageIndex:1,pageSize:10},searchData:{}},a.ajaxList=a.ajaxList.bind(a),a.ajaxErr=a.ajaxErr.bind(a),a.editObj=a.editObj.bind(a),a.getNotify=a.getNotify.bind(a),a}return o(t,e),i(t,[{key:"getNotify",value:function(e){console.log("data:::::",e)}},{key:"ajaxList",value:function(e){console.log("data:",e);var t=[];e.data.map(function(e,a){e.key=e.id,t.push(e)}),this.setState({data:t}),this.state.page.countNo=e.countNo}},{key:"ajaxErr",value:function(e){console.log("err",e)}},{key:"componentWillMount",value:function(){var e=this.state.searchData;f.PRO_REQUEST.ajax.requestData(f.PRO_URL.commodity.list,Object.assign(e,this.state.page),this.ajaxList,this.ajaxErr)}},{key:"editObj",value:function(e){console.log(e);var t=this.props.location.pathname;console.log("this",this),d.hashHistory.push(t)}},{key:"render",value:function(){var e=this,t=[{title:"序号",dataIndex:"id",key:"id"},{title:"商品名称",dataIndex:"commodity_name",key:"commodity_name"},{title:"类型",dataIndex:"type",key:"type"},{title:"抢购",dataIndex:"qianggou",key:"qianggou"},{title:"列表图",dataIndex:"list",key:"list"},{title:"创建时间",dataIndex:"add_time",key:"add_time"},{title:"抢购开始时间",dataIndex:"qianggou_start",key:"qianggou_start"},{title:"抢购结束时间",dataIndex:"qianggou_end",key:"qianggou_end"},{title:"点击量",dataIndex:"click_view",key:"click_view"},{title:"操作",dataIndex:"doing",key:"doing",render:function(t,a,n){console.log("record:",a);var r="";return 1==a.status&&(r=s["default"].createElement("span",{className:"ant-divider"})+s["default"].createElement("a",null,"选到排序页")),s["default"].createElement("span",null,s["default"].createElement("a",{onClick:function(){return e.editObj(a.id)}},"编辑"),s["default"].createElement("span",{className:"ant-divider"}),s["default"].createElement("a",null,"下架"),s["default"].createElement("span",{className:"ant-divider"}),s["default"].createElement("a",null,"抽取"),r)}}];return s["default"].createElement("div",null,this.props.children||s["default"].createElement(c.Table,{columns:t,dataSource:this.state.data,pagination:this.pagination}))}},{key:"pagination",get:function(){var e=this;return function(t){return{total:e.state.page.countNo,showQuickJumper:!0,onChange:function(e){console.log("currentPage:",e),t.state.page.pageIndex=e,t.getList()}}}(this)}}]),t}(u.Component);p.defaultProps={ShowHeader:!0,ShowFooter:!0,getNotify:p.prototype.getNotify},e.exports=p}});